(()=>{"use strict";const e=window.wp.blocks,t=window.wp.blockEditor,a=window.wp.components,l=window.wp.i18n,o=JSON.parse('{"UU":"shp/gemport-search"}'),{UU:r}=o,n=(0,e.getBlockDefaultClassName)(r);(0,e.registerBlockType)(r,{edit:e=>{const{setAttributes:o,attributes:r}=e,{columns:s,country:c,generation:_,postcode:p,town:h}=r;let m=null;p&&!((e,t)=>{if(!/^\d+$/.test(e))return!1;const a=/^[1-9]\d{3}$/,l=/^(0[1-9]|[1-9]\d)\d{3}$/;return"CH"===t?a.test(e):"DE"===t?l.test(e):a.test(e)||l.test(e)})(p,c)&&(m="CH"===c?(0,l.__)("Invalid Swiss postcode","shp_gemport_search"):"DE"===c?(0,l.__)("Invalid German postcode","shp_gemport_search"):(0,l.__)("Invalid postcode (Swiss or German)","shp_gemport_search"));const i=m?`${n} ${n}--invalid`:n,u=(0,t.useBlockProps)([i]);return React.createElement(React.Fragment,null,React.createElement(t.InspectorControls,null,React.createElement(a.Panel,{header:(0,l.__)("Gemport Search/List Settings","shp_gemport_search")},React.createElement(a.PanelBody,null,React.createElement(a.TextControl,{label:(0,l.__)("Postcode","shp_gemport_search"),value:p,onChange:e=>o({postcode:e}),help:m}),React.createElement(a.TextControl,{label:(0,l.__)("Town","shp_gemport_search"),value:h,onChange:e=>o({town:e})}),React.createElement(a.SelectControl,{label:(0,l.__)("Country","shp_gemport_search"),value:c,onChange:e=>o({country:e}),options:[{label:(0,l.__)("No constraint","shp_gemport_search"),value:""},{label:(0,l.__)("Switzerland","shp_gemport_search"),value:"CH"},{label:(0,l.__)("Germany","shp_gemport_search"),value:"DE"}]}),React.createElement(a.SelectControl,{label:(0,l.__)("Generation","shp_gemport_search"),value:_,onChange:e=>o({generation:parseInt(e)}),options:[{label:(0,l.__)("No constraint","shp_gemport_search"),value:0},{label:"1",value:1},{label:"2",value:2},{label:"3",value:3}]}),React.createElement(a.SelectControl,{label:(0,l.__)("Columns (Desktopansicht)","shp_gemport_search"),value:s,onChange:e=>o({columns:parseInt(e)}),options:[{label:"1",value:1},{label:"2",value:2}]})))),React.createElement("div",u,React.createElement("div",{className:`${n}__placeholder`},React.createElement("div",{className:`${n}__placeholder-title`,dangerouslySetInnerHTML:{__html:(0,l.__)("Placeholder for the Gemport search/list","shp_gemport_search")}}),m&&React.createElement("div",{className:`${n}__error`},m))))}})})();