(()=>{"use strict";const e=window.wp.blocks,t=window.wp.blockEditor,a=window.wp.components,l=window.wp.i18n,r=JSON.parse('{"UU":"shp/gemport-search"}'),{UU:o}=r,n=(0,e.getBlockDefaultClassName)(o);(0,e.registerBlockType)(o,{edit:e=>{const{setAttributes:r,attributes:o}=e,{country:s,generation:c,postcode:_,town:p}=o;let h=null;_&&!((e,t)=>{if(!/^\d+$/.test(e))return!1;const a=/^[1-9]\d{3}$/,l=/^(0[1-9]|[1-9]\d)\d{3}$/;return"CH"===t?a.test(e):"DE"===t?l.test(e):a.test(e)||l.test(e)})(_,s)&&(h="CH"===s?(0,l.__)("Invalid Swiss postcode","shp_gemport_search"):"DE"===s?(0,l.__)("Invalid German postcode","shp_gemport_search"):(0,l.__)("Invalid postcode (Swiss or German)","shp_gemport_search"));const m=h?`${n} ${n}--invalid`:n,i=(0,t.useBlockProps)([m]);return React.createElement(React.Fragment,null,React.createElement(t.InspectorControls,null,React.createElement(a.Panel,{header:(0,l.__)("Gemport Search/List Settings","shp_gemport_search")},React.createElement(a.PanelBody,null,React.createElement(a.TextControl,{label:(0,l.__)("Postcode","shp_gemport_search"),value:_,onChange:e=>r({postcode:e}),help:h}),React.createElement(a.TextControl,{label:(0,l.__)("Town","shp_gemport_search"),value:p,onChange:e=>r({town:e})}),React.createElement(a.SelectControl,{label:(0,l.__)("Country","shp_gemport_search"),value:s,onChange:e=>r({country:e}),options:[{label:(0,l.__)("No constraint","shp_gemport_search"),value:""},{label:(0,l.__)("Switzerland","shp_gemport_search"),value:"CH"},{label:(0,l.__)("Germany","shp_gemport_search"),value:"DE"}]}),React.createElement(a.SelectControl,{label:(0,l.__)("Generation","shp_gemport_search"),value:c,onChange:e=>r({generation:parseInt(e)}),options:[{label:(0,l.__)("No constraint","shp_gemport_search"),value:0},{label:"1",value:1},{label:"2",value:2},{label:"3",value:3}]})))),React.createElement("div",i,React.createElement("div",{className:`${n}__placeholder`},React.createElement("div",{className:`${n}__placeholder-title`,dangerouslySetInnerHTML:{__html:(0,l.__)("Placeholder for the Gemport search/list","shp_gemport_search")}}),h&&React.createElement("div",{className:`${n}__error`},h))))}})})();